<link rel="stylesheet" href="css/account.css">

<!-- CSS for contractors tabs -->
<link rel="stylesheet" href="css/contractor_rates.css">

<link rel="stylesheet" href="css/account_info.css">

<div id="controls">
    <a id="exit" href="/contractors">
        <i class="fas fa-arrow-left"></i>
    </a>
</div>

<div id="user-info">
    <h1>
        <%= user.company %>
    </h1>
    <span>
        <%= contName %>
    </span>
</div>

<h3>Billing address</h3>
<div class="user billing_information">
    <div class="user_details_billing">
        <% if (billingAddress !== undefined || billingAddress === {}) { %>
        <h3 class="user_address"><%= billingAddress.address %></h3>
        <div class="prov_country_zip">
            <span class="user_city"><%= billingAddress.city %></span>
            <span class="user_prov"><%= billingAddress.province %></span>
            <span class="user_country"><%= billingAddress.country %></span>
            <span class="user_zip"><%= billingAddress.postal %></span>
        </div>
        <% } else { %>
        <h3 class="user_address">None</h3>
        <div class="prov_country_zip">
            <span class="user_city"></span>
            <span class="user_prov"></span>
            <span class="user_country"></span>
            <span class="user_zip"></span>
        </div>
        <% } %>
        <div class="edit" onclick="toggleBillingAdress()">
            <i class="fas fa-edit"></i>
        </div>
    </div>

    <div class='edit_address_form'>
        <div class="col-md-8 order-md-1">
            <form class="needs-validation" novalidate="">
                <% let address, country, province, city, postal %>
                <% if (billingAddress) { %>
                <% address = billingAddress.address %>
                <% country = billingAddress.country %>
                <% province = billingAddress.province %>
                <% city = billingAddress.city %>
                <% postal = billingAddress.postal %>
                <% } %>
                <div class="mb-3">
                    <label for="address">Address*</label>
                    <input type="text" class="form-control" id="autocomplete" placeholder="Enter Address" required=""
                        value="<%= address %>">
                    <div class="form-text">Please enter address to fill form.</div>
                </div>
                <div class="row">
                    <div class=" mb-3">
                        <label for="country">Country*</label>
                        <input type="text" class="form-control" id="country" placeholder="country" required=""
                            value="<%= country %>" disabled>
                        <div class="country_error"></div>
                    </div>
                    <div class="mb-3">
                        <label for="state">Province*</label>
                        <input type="text" class="form-control" id="province" placeholder="province" required=""
                            value="<%= province %>" disabled>
                        <div class="province_error"></div>
                    </div>
                    <div class="mb-3">
                        <label for="state">City*</label>
                        <input type="text" class="form-control" id="city" placeholder="city" required=""
                            value="<%= city %>" disabled>
                        <div class="state_error"></div>
                    </div>
                    <div class="mb-3">
                        <label for="post">Postal Code</label>
                        <input type="text" class="form-control" id="post" placeholder="postal code" required=""
                            value="<%= postal %>" disabled>
                        <div class="postal_error">Postal Code required. </div>
                    </div>
                </div>
            </form>
        </div>
        <p class="address-form-error error"></p>
        <button type="button" class="submit btn btn-primary" onclick="editBillingAddress('contractor')">Submit</button>
        <button type="button" class="cancel btn btn-danger" onclick="toggleBillingAdress()">Cancel</button>
    </div>
</div>






<div class="user" id="contractor">
    <div class="user_details">
        <h3>
            Contractor Rates
        </h3>
        <div class="edit">
            <i class="fas fa-chevron-down"></i>
        </div>
    </div>
</div>
<div id="contractor_rates">
    <h5>
        Hourly
    </h5>
    <div class="hourly_rate tandem">
        <span>Tandem</span>
        <input type="number" value="<%= contRates.t %>" class="rate">
    </div>

    <div class="hourly_rate tandem_2_pup">
        <span>Tandem 2-axle Pony</span>
        <input type="number" value="<%= contRates.t2p %>" class="rate">
    </div>

    <div class="hourly_rate tandem_3_pup">
        <span>Tandem 3-axle Pony</span>
        <input type="number" value="<%= contRates.t3p %>" class="rate">
    </div>

    <div class="hourly_rate tandem_3_transfer">
        <span>Tandem 3-axle Transfer</span>
        <input type="number" value="<%= contRates.t3tf %>" class="rate">
    </div>

    <div class="hourly_rate tandem_4_transfer">
        <label>Tandem 4-axle Transfer</label>
        <input type="number" value="<%= contRates.t4tf %>" class="rate" />
    </div>

    <div class="hourly_rate tandem_4_end_dump">
        <label>Tandem 4-axle End Dump</label>
        <input type="number" value="<%= contRates.t4ed %>" class="rate" />
    </div>

    <div class="hourly_rate tri">
        <label>Tri Axle</label>
        <input type="number" value="<%= contRates.tri %>" class="rate" />
    </div>

    <div class="hourly_rate tri_2_pony">
        <label>Tri Axle 2-axle Pony</label>
        <input type="number" value="<%= contRates.tri2p %>" class="rate" />
    </div>

    <div class="hourly_rate tri_3_pony">
        <label>Tri Axle 3-axle Pony</label>
        <input type="number" value="<%= contRates.tri3p %>" class="rate" />
    </div>


    <div class="hourly_rate tri_4_transfer">
        <label>Tri Axle 3-axle Transfer</label>
        <input type="number" value="<%= contRates.tri3tf %>" class="rate" />
    </div>

    <div class="hourly_rate tri_4_transfer">
        <label>Tri Axle 4-axle Transfer</label>
        <input type="number" value="<%= contRates.tri4tf %>" class="rate" />
    </div>

    <div class="hourly_rate tri_4_end_dumo">
        <label>Tri Axle 4-axle End Dump</label>
        <input type="number" value="<%= contRates.tri4ed %>" class="rate" />
    </div>
    <button onclick="saveContractorRates()">Save</button>
</div>

<div class="user" id="operator">
    <div class="user_details">
        <h3>
            Operator Rates
        </h3>
        <div class="edit">
            <i class="fas fa-chevron-down"></i>
        </div>
    </div>
</div>
<div id="operator_rates">
    <div class="tonnage_rate">
        <span>Tonnage (Percentage)</span>
        <input type="number" value="<%= opRates.tonnage %>" class="rate">
    </div>

    <div class="per_load_rate">
        <span>Per Load (Percentage)</span>
        <input type="number" value="<%= opRates.perLoad %>" class="rate">
    </div>
    <h5>
        Hourly
    </h5>
    <div class="hourly_rate tandem">
        <span>Tandem</span>
        <input type="number" value="<%= opRates.t %>" class="rate">
    </div>

    <div class="hourly_rate tandem_2_pup">
        <span>Tandem 2-axle Pony</span>
        <input type="number" value="<%= opRates.t2p %>" class="rate">
    </div>

    <div class="hourly_rate tandem_3_pup">
        <span>Tandem 3-axle Pony</span>
        <input type="number" value="<%= opRates.t3p %>" class="rate">
    </div>

    <div class="hourly_rate tandem_3_transfer">
        <span>Tandem 3-axle Transfer</span>
        <input type="number" value="<%= opRates.t3tf %>" class="rate">
    </div>

    <div class="hourly_rate tandem_4_transfer">
        <label>Tandem 4-axle Transfer</label>
        <input type="number" value="<%= opRates.t4tf %>" class="rate" />
    </div>

    <div class="hourly_rate tandem_4_end_dump">
        <label>Tandem 4-axle End Dump</label>
        <input type="number" value="<%= opRates.t4ed %>" class="rate" />
    </div>

    <div class="hourly_rate tri">
        <label>3-axle</label>
        <input type="number" value="<%= opRates.tri %>" class="rate" />
    </div>

    <div class="hourly_rate tri_2_pony">
        <label>3-axle 2-axle Pony</label>
        <input type="number" value="<%= opRates.tri2p %>" class="rate" />
    </div>

    <div class="hourly_rate tri_3_pony">
        <label>3-axle 3-axle Pony</label>
        <input type="number" value="<%= opRates.tri3p %>" class="rate" />
    </div>

    <div class="hourly_rate tri_4_transfer">
        <label>3-axle 4-axle Transfer</label>
        <input type="number" value="<%= opRates.tri3tf %>" class="rate" />
    </div>

    <div class="hourly_rate tri_4_transfer">
        <label>3-axle 4-axle Transfer</label>
        <input type="number" value="<%= opRates.tri4tf %>" class="rate" />
    </div>

    <div class="hourly_rate tri_4_end_dumo">
        <label>3-axle 4-axle End Dump</label>
        <input type="number" value="<%= opRates.tri4ed %>" class="rate" />
    </div>
    <button onclick="saveOperatorRates()">Save</button>
</div>

<script async
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBw_orl37OX48-9bmzkItQ-DH-l-66CK2E&libraries=places&callback=initMap"
    defer></script>

<script src="js/address_auto_complete.js"></script>

<script src="js/reset_errors.js"></script>

<script src="js/toggles.js"></script>

<script src="js/user_controller.js"></script>

<script src="js/contractor.js"></script>